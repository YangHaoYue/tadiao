(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-mine-projectClues-createNew-createNew"],{"0c83":function(e,t,o){"use strict";o.r(t);var a=o("6919"),i=o("4ba6");for(var l in i)"default"!==l&&function(e){o.d(t,e,(function(){return i[e]}))}(l);o("1cef");var n,r=o("f0c5"),s=Object(r["a"])(i["default"],a["b"],a["c"],!1,null,"273b03c8",null,!1,a["a"],n);t["default"]=s.exports},"1a7c":function(e,t,o){"use strict";o("a434"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a={onLoad:function(e){var t=this,o=this.http.isLogin();o||uni.$emit("CNew"),e.project_id&&(uni.setNavigationBarTitle({title:"编辑线索"}),this.project_id=e.project_id,this.getProjectEditInfo()),this.getUserInfo(),uni.$on("address",(function(e){console.log("data"+e),t.model.latitude=e.latitude,t.model.longitude=e.longitude,t.model.address=e.location,t.model.area_code=e.area_code,t.model.location=e.location}))},onUnload:function(){uni.$off("address")},data:function(){return{border:!1,labelStyle:{fontSize:"28rpx",fontWeight:"bold"},labelPosition:"top",codeTips:"",errorType:["message","border-bottom"],project_id:"",model:{project_name:"",address:"",location:"",area_code:"",longitude:"",latitude:"",construction_name:"",developer_name:"",list:[{type:"",count:""}],remark:"",connectList:[{media_name:"",media_tel_num:""}]},selectMapShow:!1,showModal:!1}},methods:{getUserInfo:function(){this.http.get("UserCenter/user",{},!0)},getProjectEditInfo:function(){var e=this;this.http.get("project/getProjectEditInfo",{project_id:this.project_id}).then((function(t){1e3==t.code&&(e.model.project_name=t.data.project_name,e.model.construction_name=t.data.construction_name,e.model.developer_name=t.data.developer_name,e.model.list=t.data.tower_types,e.model.connectList=t.data.medias,e.model.remark=t.data.remark,e.model.address=t.data.address,e.model.longitude=t.data.longitude,e.model.latitude=t.data.latitude,e.model.location=t.data.address,e.model.area_code=t.data.area_code)}))},chooseLocation:function(){uni.navigateTo({url:"getaddrss"})},addNewEquipment:function(){this.model.list.push({type:"",count:""})},deleteEquipment:function(e){this.model.list.splice(e,1)},addConnect:function(){this.model.connectList.push({media_name:"",media_tel_num:""})},deleteConnect:function(e){this.model.connectList.splice(e,1)},addProject:function(){var e=this;this.http.post("project/addProject",{project_name:this.model.project_name,area_code:this.model.area_code,longitude:this.model.longitude,latitude:this.model.latitude,address:this.model.location,construction_name:this.model.construction_name,developer_name:this.model.developer_name,remark:this.model.remark,tower_types:this.model.list,medias:this.model.connectList}).then((function(t){1e3==t.code?e.showModal=!0:e.$u.toast(t.msg)}))},editProject:function(){var e=this;this.http.post("project/editProject",{project_id:this.project_id,area_code:this.model.area_code,longitude:this.model.longitude,latitude:this.model.latitude,address:this.model.location,project_name:this.model.project_name,construction_name:this.model.construction_name,developer_name:this.model.developer_name,remark:this.model.remark,tower_types:this.model.list,medias:this.model.connectList}).then((function(t){e.$u.toast(t.msg),1e3==t.code&&setTimeout((function(){e.back()}),1500)}))},submit:function(){this.project_id?this.editProject():this.addProject()},back:function(){uni.navigateBack({delta:1})}}};t.default=a},"1cef":function(e,t,o){"use strict";var a=o("c743"),i=o.n(a);i.a},"1ecc":function(e,t,o){"use strict";o.r(t);var a=o("ca2d"),i=o.n(a);for(var l in a)"default"!==l&&function(e){o.d(t,e,(function(){return a[e]}))}(l);t["default"]=i.a},"4ba6":function(e,t,o){"use strict";o.r(t);var a=o("1a7c"),i=o.n(a);for(var l in a)"default"!==l&&function(e){o.d(t,e,(function(){return a[e]}))}(l);t["default"]=i.a},6919:function(e,t,o){"use strict";o.d(t,"b",(function(){return i})),o.d(t,"c",(function(){return l})),o.d(t,"a",(function(){return a}));var a={uForm:o("aae3").default,uFormItem:o("4ac9").default,uInput:o("4b1d").default,uIcon:o("7353").default,uButton:o("6aa6").default,uGap:o("91ad").default,uPopup:o("8593").default},i=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("v-uni-view",[o("v-uni-view",{staticClass:"u-flex u-p-l-30 u-p-t-14 u-p-b-14 u-font-28",staticStyle:{color:"#666666"}},[o("v-uni-text",{staticClass:"cuIcon-album u-font-32 u-m-r-10"}),e._v("项目信息")],1),o("v-uni-view",{staticClass:"u-p-l-50 u-p-r-20 bg-white",staticStyle:{"border-radius":"10rpx"}},[o("u-form",{ref:"uForm",attrs:{model:e.model,errorType:e.errorType}},[o("u-form-item",{attrs:{"label-style":e.labelStyle,required:!0,"label-width":"120","label-position":e.labelPosition,label:"项目名称",prop:"project_name"}},[o("u-input",{attrs:{border:e.border,placeholder:"请输入项目名称",type:"text"},model:{value:e.model.project_name,callback:function(t){e.$set(e.model,"project_name",t)},expression:"model.project_name"}})],1),o("u-form-item",{attrs:{"label-style":e.labelStyle,required:!0,"right-icon":"arrow-right","label-position":e.labelPosition,label:"地图定位",prop:"location","label-width":"150"}},[o("u-input",{attrs:{border:e.border,disabled:!0,placeholder:"请选择定位"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.chooseLocation.apply(void 0,arguments)}},model:{value:e.model.address,callback:function(t){e.$set(e.model,"address",t)},expression:"model.address"}})],1),o("u-form-item",{attrs:{"label-style":e.labelStyle,required:!0,"label-position":e.labelPosition,label:"施工单位",prop:"construction_name"}},[o("u-input",{attrs:{border:e.border,type:"text",placeholder:"请输入塔吊使用方单位名称"},model:{value:e.model.construction_name,callback:function(t){e.$set(e.model,"construction_name",t)},expression:"model.construction_name"}})],1),o("u-form-item",{attrs:{"label-style":e.labelStyle,required:!1,"label-position":e.labelPosition,label:"项目的建设单位",prop:"developer_name"}},[o("u-input",{attrs:{border:e.border,type:"text",placeholder:"请输入项目的建设单位"},model:{value:e.model.developer_name,callback:function(t){e.$set(e.model,"developer_name",t)},expression:"model.developer_name"}})],1),o("u-form-item",{attrs:{"label-style":e.labelStyle,required:!0,"label-position":e.labelPosition,label:"塔机型号及数量",prop:"list"}},[o("v-uni-view",[e._l(e.model.list,(function(t,a){return[o("v-uni-view",{key:a+"_0",staticClass:"u-flex u-m-t-10 u-m-b-10"},[o("v-uni-view",{staticClass:"u-flex",staticStyle:{border:"1rpx solid #DDDDDD","border-radius":"10rpx","line-height":"1"}},[o("v-uni-view",{staticClass:"u-p-10 u-p-l-15"},[e._v("塔机型号")]),o("u-input",{staticClass:"u-border-right u-border-left u-p-l-10",staticStyle:{width:"249rpx"},attrs:{type:"number",placeholder:"请输入塔机型号"},model:{value:t.type,callback:function(o){e.$set(t,"type",o)},expression:"item.type"}}),o("v-uni-view",{staticClass:"u-p-10 u-font-26"},[e._v("数量")]),o("u-input",{staticClass:"u-border-left u-border-right u-p-l-10",staticStyle:{width:"193rpx"},attrs:{type:"number",placeholder:"请输入数量"},model:{value:t.count,callback:function(o){e.$set(t,"count",o)},expression:"item.count"}})],1),0!=a?o("u-icon",{staticClass:"u-m-l-10",attrs:{name:"minus-circle",color:"#0F58FB",size:"37rpx"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.deleteEquipment(a)}}}):o("v-uni-view",{staticClass:"bg-white u-m-l-10",staticStyle:{height:"37rpx",width:"37rpx"}})],1)]})),o("v-uni-view",{staticClass:"u-flex u-font-24 add u-row-center",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.addNewEquipment.apply(void 0,arguments)}}},[o("u-icon",{staticClass:"u-m-8",attrs:{name:"plus",color:"#0F58FB",size:"24",label:"添加型号","label-color":"#0F58FB","label-size":"22"}})],1)],2)],1)],1)],1),o("v-uni-view",{staticClass:"u-flex u-p-l-30 u-p-t-14 u-p-b-14 u-font-28",staticStyle:{color:"#666666"}},[o("u-icon",{staticClass:"u-m-r-10",attrs:{name:"edit-pen",size:"32"}}),e._v("备注")],1),o("v-uni-view",{staticClass:"u-p-l-50 u-p-40 bg-white",staticStyle:{"border-radius":"10rpx"}},[o("u-input",{attrs:{type:"textarea",border:!0,height:"184","auto-height":!0},model:{value:e.model.remark,callback:function(t){e.$set(e.model,"remark",t)},expression:"model.remark"}})],1),o("v-uni-view",{staticClass:"u-flex u-p-l-30 u-p-t-14 u-p-b-14 u-font-28",staticStyle:{color:"#666666"}},[o("v-uni-text",{staticClass:"cuIcon-peoplelist u-font-32 u-m-r-10"}),e._v("联系人")],1),o("v-uni-view",{staticClass:"u-p-l-50 u-p-r-40 bg-white",staticStyle:{"border-radius":"10rpx"}},[o("u-form",{ref:"uForm",attrs:{model:e.model,errorType:e.errorType}},[e._l(e.model.connectList,(function(t,a){return[o("v-uni-view",{key:a+"_0",staticClass:"u-flex u-row-between u-p-t-20 u-p-b-20 u-border-bottom"},[o("v-uni-view",[e._v("联系人"+e._s(a+1))]),a>0?o("u-icon",{attrs:{name:"trash",size:"35"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.deleteConnect(a)}}}):e._e()],1),o("u-form-item",{key:a+"_1",attrs:{"label-style":e.labelStyle,required:!0,"label-width":"120","label-position":e.labelPosition,label:"联系人"}},[o("u-input",{attrs:{border:e.border,placeholder:"请输入联系人的姓名",type:"text"},model:{value:t.media_name,callback:function(o){e.$set(t,"media_name",o)},expression:"item.media_name"}})],1),o("u-form-item",{key:a+"_2",attrs:{"label-style":e.labelStyle,required:!0,"label-position":e.labelPosition,label:"联系电话"}},[o("u-input",{attrs:{border:e.border,type:"number",placeholder:"请输入联系人的手机号码"},model:{value:t.media_tel_num,callback:function(o){e.$set(t,"media_tel_num",o)},expression:"item.media_tel_num"}})],1)]}))],2),o("v-uni-view",{staticClass:"u-p-20 u-flex u-row-center",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.addConnect.apply(void 0,arguments)}}},[o("u-icon",{attrs:{name:"plus-circle",size:"44",color:"#0F58FB",label:"添加联系人","label-color":"#0F58FB","label-size":"28"}})],1)],1),o("u-button",{staticClass:"u-m-30 u-m-t-60",attrs:{type:"primary"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.submit.apply(void 0,arguments)}}},[e._v("立即提交")]),o("u-gap",{attrs:{height:"60","bg-color":"#F8F8F8"}}),o("u-popup",{attrs:{mode:"center","mask-close-able":!1,"border-radius":"8",closeable:!1,width:"546",height:"530"},model:{value:e.showModal,callback:function(t){e.showModal=t},expression:"showModal"}},[o("v-uni-view",{staticClass:"u-p-40 u-flex",staticStyle:{"flex-direction":"column"}},[o("u-icon",{attrs:{name:"checkmark-circle-fill",size:"100",color:"#0F58FB",label:"等待审核","label-color":"#333333","label-size":"30","label-pos":"bottom","margin-top":"20"}}),o("v-uni-view",{staticClass:"u-m-t-40 u-font-24 text-gray"},[e._v("预计1-3个工作日完成审核，如经审核认定您为本项目的第一位信息提供者，则将有业务员联系您，并确认您为本项目的信息员。")]),o("u-button",{staticClass:"u-m-t-50",staticStyle:{width:"100%"},attrs:{size:"medium",type:"primary"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.back.apply(void 0,arguments)}}},[e._v("关闭")])],1)],1)],1)},l=[]},"91ad":function(e,t,o){"use strict";o.r(t);var a=o("ee72"),i=o("1ecc");for(var l in i)"default"!==l&&function(e){o.d(t,e,(function(){return i[e]}))}(l);o("927e");var n,r=o("f0c5"),s=Object(r["a"])(i["default"],a["b"],a["c"],!1,null,"0c45c33e",null,!1,a["a"],n);t["default"]=s.exports},"927e":function(e,t,o){"use strict";var a=o("98fc"),i=o.n(a);i.a},"98fc":function(e,t,o){var a=o("f226");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var i=o("4f06").default;i("6d49aaa0",a,!0,{sourceMap:!1,shadowMode:!1})},c743:function(e,t,o){var a=o("d9b4");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var i=o("4f06").default;i("781a7df2",a,!0,{sourceMap:!1,shadowMode:!1})},ca2d:function(e,t,o){"use strict";o("a9e3"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a={name:"u-gap",props:{bgColor:{type:String,default:"transparent "},height:{type:[String,Number],default:30},marginTop:{type:[String,Number],default:0},marginBottom:{type:[String,Number],default:0}},computed:{gapStyle:function(){return{backgroundColor:this.bgColor,height:this.height+"rpx",marginTop:this.marginTop+"rpx",marginBottom:this.marginBottom+"rpx"}}}};t.default=a},d9b4:function(e,t,o){var a=o("24fb");t=a(!1),t.push([e.i,"uni-page-body[data-v-273b03c8]{background-color:#f8f8f8}.add[data-v-273b03c8]{border:%?1?% solid #0f58fb;border-radius:%?10?%;line-height:1;padding:%?10?% %?15?%;width:%?180?%;height:%?50?%}body.?%PAGE?%[data-v-273b03c8]{background-color:#f8f8f8}",""]),e.exports=t},ee72:function(e,t,o){"use strict";var a;o.d(t,"b",(function(){return i})),o.d(t,"c",(function(){return l})),o.d(t,"a",(function(){return a}));var i=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("v-uni-view",{staticClass:"u-gap",style:[e.gapStyle]})},l=[]},f226:function(e,t,o){var a=o("24fb");t=a(!1),t.push([e.i,'@charset "UTF-8";/**\r\n * 下方引入的为uView UI的集成样式文件，为scss预处理器，其中包含了一些"u-"开头的自定义变量\r\n * uView自定义的css类名和scss变量，均以"u-"开头，不会造成冲突，请放心使用 \r\n */',""]),e.exports=t}}]);